{"ast":null,"code":"var _jsxFileName = \"/Users/gabriel/code/note-taking/client/src/components/NotesContainer/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport { useMutation, NetworkStatus } from '@apollo/client';\nimport { List } from 'react-content-loader';\nimport { Editor, convertFromRaw, EditorState } from 'draft-js';\nimport { DELETE_NOTE } from '../../Mutations';\nimport './notes_container.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NotesContainer = ({\n  error,\n  loading,\n  networkStatus,\n  refetch,\n  notes,\n  selectedNote,\n  setSelectedNote\n}) => {\n  _s();\n\n  const [deleteNote, {\n    loading: mutationLoading,\n    error: mutationError\n  }] = useMutation(DELETE_NOTE);\n\n  const handleDelete = async id => {\n    await deleteNote({\n      variables: {\n        id\n      }\n    });\n    refetch();\n  };\n\n  const renderNotes = () => {\n    if (loading || mutationLoading || networkStatus === NetworkStatus.refetch) {\n      return Array.from(Array(notes.length)).map((_, i) => /*#__PURE__*/_jsxDEV(List, {\n        className: \"box\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 66\n      }, this));\n    } else if (error) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: `Error! ${error}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 20\n      }, this);\n    }\n\n    return notes.map((note, i) => {\n      const isActive = selectedNote ? selectedNote.id === note.id : false;\n      const parsedPost = EditorState.createWithContent(convertFromRaw(JSON.parse(note.body)));\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classnames('box', isActive ? 'active-post' : ''),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setSelectedNote(note),\n          children: /*#__PURE__*/_jsxDEV(Editor, {\n            editorState: parsedPost,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn small\",\n          onClick: () => handleDelete(note.id),\n          children: \"Delete Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), mutationError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: \"Error occurred when deleting note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 39\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notes_container_wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"ml-1\",\n      children: \"Notes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), renderNotes()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NotesContainer, \"JkKYvLZM9f7/rTnPWoyGEJvVfEA=\", false, function () {\n  return [useMutation];\n});\n\n_c = NotesContainer;\nexport default NotesContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"NotesContainer\");","map":{"version":3,"sources":["/Users/gabriel/code/note-taking/client/src/components/NotesContainer/index.js"],"names":["React","classnames","useMutation","NetworkStatus","List","Editor","convertFromRaw","EditorState","DELETE_NOTE","NotesContainer","error","loading","networkStatus","refetch","notes","selectedNote","setSelectedNote","deleteNote","mutationLoading","mutationError","handleDelete","id","variables","renderNotes","Array","from","length","map","_","i","note","isActive","parsedPost","createWithContent","JSON","parse","body"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { useMutation, NetworkStatus } from '@apollo/client';\nimport { List } from 'react-content-loader';\nimport { Editor, convertFromRaw, EditorState } from 'draft-js';\n\nimport { DELETE_NOTE } from '../../Mutations';\n\nimport './notes_container.css'\n\nconst NotesContainer = ({\n    error,\n    loading,\n    networkStatus,\n    refetch,\n    notes,\n    selectedNote,\n    setSelectedNote\n}) => {\n    const [deleteNote, { loading: mutationLoading, error: mutationError }] = useMutation(DELETE_NOTE);\n\n    const handleDelete = async (id) => {\n        await deleteNote({\n            variables: {\n                id\n            }\n        })\n        refetch();\n    }\n\n    const renderNotes = () => {\n        if (loading || mutationLoading || networkStatus === NetworkStatus.refetch) {\n            return Array.from(Array(notes.length)).map((_, i) => <List className=\"box\" key={i} />)\n        } else if (error) {\n            return <p>{`Error! ${error}`}</p>\n        }\n\n        return notes.map((note, i) => {\n            const isActive = selectedNote ? selectedNote.id === note.id : false;\n            const parsedPost = EditorState.createWithContent(convertFromRaw(JSON.parse(note.body)));\n            return (\n                <section key={i} className={classnames('box', isActive ? 'active-post' : '')}>\n                    <div onClick={() => setSelectedNote(note)}>\n                        <Editor editorState={parsedPost} readOnly />\n                    </div>\n                    <button className=\"btn small\" onClick={() => handleDelete(note.id)}>Delete Note</button>\n                    {mutationError && <p className=\"error\">Error occurred when deleting note</p>}\n                </section>\n            )\n        })\n    }\n\n    return (\n        <div className=\"notes_container_wrapper\">\n            <h2 className=\"ml-1\">Notes</h2>\n            {renderNotes()}\n        </div>\n    )\n}\n\nexport default NotesContainer;"]},"metadata":{},"sourceType":"module"}